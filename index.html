<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover, user-scalable=no" />
  <title>Dual Counter</title>
  <link rel="manifest" href="manifest.webmanifest">
  <meta name="theme-color" content="#000000">
  <style>
    :root{ --base:150px }
    html,body{
      margin:0;height:100%;background:#000;color:#fff;
      font-family:"Segoe UI",-apple-system,BlinkMacSystemFont,Inter,Arial,sans-serif;
      -webkit-font-smoothing:antialiased
    }

    .app{
      min-height:100%;
      display:grid; grid-template-rows:auto 1fr auto; gap:16px; box-sizing:border-box;
      padding:env(safe-area-inset-top) 16px env(safe-area-inset-bottom);
    }

    header{ display:flex;justify-content:space-between;align-items:center;padding:4px 2px }
    header h1{ margin:0;font-size:18px;font-weight:600 }

    .count{
      height:100%;
      display:flex; align-items:center; justify-content:center;
      text-align:center; margin:0; position:relative;
    }

    .big-value{
      position:absolute;
      top:8%;
      left:12%;
      font-size:clamp(24px,5vw,36px);
      font-weight:500;
      opacity:.7;
    }

    .value{
      font-size:clamp(96px,18vw,160px);
      font-weight:800;
      line-height:1;
      margin:0;
    }

    .controls{
      display:grid;grid-template-columns:1fr 1fr;gap:18px;align-items:center;
      padding:0 4px 8px;justify-items:center
    }

    .btn{
      width:var(--base);height:var(--base);
      background:#111;border-radius:20px;
      color:#fff;border:2px solid #333;
      display:grid;place-items:center;
      font-weight:900;user-select:none;touch-action:manipulation;
      transition:transform .06s ease,opacity .2s ease;
    }
    .btn:active{ transform:scale(.96) }
    .btn span{ line-height:1 }
    .btn-minus span{ font-size:calc(var(--base)*.42) }
    .btn-plus span{ font-size:calc(var(--base)*.50) }

    #reset{
      border:none;background:transparent;display:block;cursor:pointer;
      font-size:17px;letter-spacing:.22em;color:#fff;opacity:.9;
      margin:12px auto 6px;
    }
    #reset:active{ opacity:1 }

    .note{
      text-align:center;color:#bbb;font-size:11px;opacity:.7;margin-top:6px;
    }
  </style>
</head>
<body>
  <div class="app" id="app">
    <header><h1>Counter by StarShots ID</h1></header>

    <main class="count">
      <div class="big-value" id="big">0</div>
      <div class="value" id="value">0</div>
    </main>

    <section>
      <button id="reset">RESET</button>
      <div class="controls">
        <button class="btn btn-minus" id="dec"><span>âˆ’</span></button>
        <button class="btn btn-plus"  id="inc"><span>+</span></button>
      </div>
      <div class="note">hold for faster value</div>
    </section>
  </div>

<script>
if ("serviceWorker" in navigator) {
  navigator.serviceWorker.register("sw.js").catch(()=>{});
}

(function(){
  const bigEl = document.getElementById('big');
  const smallEl = document.getElementById('value');
  const incBtn = document.getElementById('inc');
  const decBtn = document.getElementById('dec');
  const resetBtn = document.getElementById('reset');

  const LIMIT = 7;
  let big = Number(localStorage.getItem('counter:big')||0);
  let small = Number(localStorage.getItem('counter:small')||0);

  function render(){
    bigEl.textContent = big;
    smallEl.textContent = small;
  }
  function save(){
    localStorage.setItem('counter:big',big);
    localStorage.setItem('counter:small',small);
  }

  function step(delta){
    small += delta;
    if (small >= LIMIT){
      big++;
      small = 0;
    } else if (small < 0 && big > 0){
      big--;
      small = LIMIT-1;
    } else if (small < 0){
      small = 0;
    }
    render(); save();
  }

  incBtn.addEventListener('click',()=>step(1));
  decBtn.addEventListener('click',()=>step(-1));
  resetBtn.addEventListener('click',()=>{
    big=0; small=0; render(); save();
  });

  render();
})();
</script>
</body>
</html>
